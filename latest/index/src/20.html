<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\projects\identity-firebase\src\Aguacongas.Identity.Firebase\RoleStore.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Aguacongas.Firebase;
using Microsoft.AspNetCore.Identity;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Net;
using System.Security.Claims;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace Aguacongas.Identity.Firebase
{
    /// &lt;summary&gt;
    /// Creates a new instance of a persistence store for roles.
    /// &lt;/summary&gt;
    /// &lt;typeparam name=&quot;TRole&quot;&gt;The type of the class representing a role.&lt;/typeparam&gt;
    public class RoleStore&lt;TRole&gt; : RoleStore&lt;TRole, IdentityUserRole&lt;string&gt;, IdentityRoleClaim&lt;string&gt;&gt;,
        IRoleClaimStore&lt;TRole&gt;
        where TRole : IdentityRole&lt;string&gt;
    {
        /// &lt;summary&gt;
        /// Constructs a new instance of &lt;see cref=&quot;RoleStore{TRole}&quot;/&gt;.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;context&quot;&gt;The &lt;see cref=&quot;DbContext&quot;/&gt;.&lt;/param&gt;
        /// &lt;param name=&quot;describer&quot;&gt;The &lt;see cref=&quot;IdentityErrorDescriber&quot;/&gt;.&lt;/param&gt;
        public RoleStore(IFirebaseClient client, IdentityErrorDescriber describer = null) : base(client, describer) { }
    }

    /// &lt;summary&gt;
    /// Creates a new instance of a persistence store for roles.
    /// &lt;/summary&gt;
    /// &lt;typeparam name=&quot;TRole&quot;&gt;The type of the class representing a role.&lt;/typeparam&gt;
    /// &lt;typeparam name=&quot;TUserRole&quot;&gt;The type of the class representing a user role.&lt;/typeparam&gt;
    /// &lt;typeparam name=&quot;TRoleClaim&quot;&gt;The type of the class representing a role claim.&lt;/typeparam&gt;
    public class RoleStore&lt;TRole, TUserRole, TRoleClaim&gt; :
        IQueryableRoleStore&lt;TRole&gt;,
        IRoleClaimStore&lt;TRole&gt;
        where TRole : IdentityRole&lt;string&gt;
        where TUserRole : IdentityUserRole&lt;string&gt;, new()
        where TRoleClaim : IdentityRoleClaim&lt;string&gt;, new()
    {
        private const string RolesTableName = &quot;roles&quot;;
        private const string RoleClaimsTableName = &quot;role-claims&quot;;

        protected const string RulePath = &quot;.settings/rules.json&quot;;

        private readonly IFirebaseClient _client;
        private bool _disposed;

        /// &lt;summary&gt;
        /// A navigation property for the roles the store contains.
        /// &lt;/summary&gt;
        public IQueryable&lt;TRole&gt; Roles
        {
            get
            {
                var response = _client.GetAsync&lt;Dictionary&lt;string, object&gt;&gt;(GetFirebasePath(RolesTableName), queryString: &quot;shallow=true&quot;).GetAwaiter().GetResult();
                var roleDictionary = response.Data;
                if (roleDictionary == null)
                {
                    return new List&lt;TRole&gt;().AsQueryable();
                }

                var taskList = new List&lt;Task&lt;TRole&gt;&gt;();
                foreach (var key in roleDictionary.Keys)
                {
                    taskList.Add(FindByIdAsync(key));
                }

                var results = Task.WhenAll(taskList).GetAwaiter().GetResult();

                return results.Where(r =&gt; r != null).AsQueryable();
            }
        }


        /// &lt;summary&gt;
        /// Constructs a new instance of &lt;see cref=&quot;RoleStore{TRole, TUserRole, TRoleClaim}&quot;/&gt;.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;context&quot;&gt;The &lt;see cref=&quot;DbContext&quot;/&gt;.&lt;/param&gt;
        /// &lt;param name=&quot;describer&quot;&gt;The &lt;see cref=&quot;IdentityErrorDescriber&quot;/&gt;.&lt;/param&gt;
        public RoleStore(IFirebaseClient client, IdentityErrorDescriber describer = null)
        {
            _client = client ?? throw new ArgumentNullException(nameof(client));
            ErrorDescriber = describer ?? new IdentityErrorDescriber();
        }

        /// &lt;summary&gt;
        /// Gets or sets the &lt;see cref=&quot;IdentityErrorDescriber&quot;/&gt; for any error that occurred with the current operation.
        /// &lt;/summary&gt;
        public IdentityErrorDescriber ErrorDescriber { get; set; }

        /// &lt;summary&gt;
        /// Creates a new role in a store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role to create in the store.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that represents the &lt;see cref=&quot;IdentityResult&quot;/&gt; of the asynchronous query.&lt;/returns&gt;
        public async virtual Task&lt;IdentityResult&gt; CreateAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            var response = await _client.PostAsync(GetFirebasePath(RolesTableName), role, cancellationToken, true);
            role.Id = response.Data;
            role.ConcurrencyStamp = response.Etag;

            return IdentityResult.Success;
        }

        /// &lt;summary&gt;
        /// Updates a role in a store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role to update in the store.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that represents the &lt;see cref=&quot;IdentityResult&quot;/&gt; of the asynchronous query.&lt;/returns&gt;
        public async virtual Task&lt;IdentityResult&gt; UpdateAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }

            try
            {
                var response = await _client.PutAsync(GetFirebasePath(RolesTableName, role.Id), role, cancellationToken, true, role.ConcurrencyStamp);
                role.ConcurrencyStamp = response.Etag;
            }
            catch (FirebaseException e)
                when(e.StatusCode == HttpStatusCode.PreconditionFailed)
            {
                return IdentityResult.Failed(ErrorDescriber.ConcurrencyFailure());
            }


            return IdentityResult.Success;
        }

        /// &lt;summary&gt;
        /// Deletes a role from the store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role to delete from the store.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that represents the &lt;see cref=&quot;IdentityResult&quot;/&gt; of the asynchronous query.&lt;/returns&gt;
        public async virtual Task&lt;IdentityResult&gt; DeleteAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }

            try
            {
                await _client.DeleteAsync(GetFirebasePath(RolesTableName, role.Id), cancellationToken, true, role.ConcurrencyStamp);
            }
            catch (FirebaseException e)
            {
                if (e.StatusCode == HttpStatusCode.PreconditionFailed)
                {
                    return IdentityResult.Failed(ErrorDescriber.ConcurrencyFailure());
                }
                throw;
            }
            return IdentityResult.Success;
        }

        /// &lt;summary&gt;
        /// Gets the ID for a role from the store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose ID should be returned.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that contains the ID of the role.&lt;/returns&gt;
        public virtual Task&lt;string&gt; GetRoleIdAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            return Task.FromResult(role.Id);
        }

        /// &lt;summary&gt;
        /// Gets the name of a role from the store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose name should be returned.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that contains the name of the role.&lt;/returns&gt;
        public virtual Task&lt;string&gt; GetRoleNameAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            return Task.FromResult(role.Name);
        }

        /// &lt;summary&gt;
        /// Sets the name of a role in the store as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose name should be set.&lt;/param&gt;
        /// &lt;param name=&quot;roleName&quot;&gt;The name of the role.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;The &lt;see cref=&quot;Task&quot;/&gt; that represents the asynchronous operation.&lt;/returns&gt;
        public virtual Task SetRoleNameAsync(TRole role, string roleName, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            role.Name = roleName;
            return Task.CompletedTask;
        }

        /// &lt;summary&gt;
        /// Finds the role who has the specified ID as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The role ID to look for.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that result of the look up.&lt;/returns&gt;
        public virtual async Task&lt;TRole&gt; FindByIdAsync(string id, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            var response = await _client.GetAsync&lt;TRole&gt;(GetFirebasePath(RolesTableName, id), cancellationToken, true);
            var role = response.Data;
            if (role != null)
            {
                role.Id = id;
                role.ConcurrencyStamp = response.Etag;
            }

            return role;
        }

        /// &lt;summary&gt;
        /// Finds the role who has the specified normalized name as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;normalizedName&quot;&gt;The normalized role name to look for.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that result of the look up.&lt;/returns&gt;
        public virtual async Task&lt;TRole&gt; FindByNameAsync(string normalizedName, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();

            Dictionary&lt;string, TRole&gt; data;
            try
            {
                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRole&gt;&gt;(GetFirebasePath(RolesTableName), cancellationToken, false, $&quot;orderBy=\&quot;NormalizedName\&quot;&amp;equalTo=\&quot;{normalizedName}\&quot;&quot;);
                data = response.Data;
            }
            catch (FirebaseException e)
               when (e.FirebaseError != null &amp;&amp; e.FirebaseError.Error.StartsWith(&quot;Index&quot;))
            {
                await SetIndex(RolesTableName, new RoleIndex(), cancellationToken);

                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRole&gt;&gt;(GetFirebasePath(RolesTableName), cancellationToken, false, $&quot;orderBy=\&quot;NormalizedName\&quot;&amp;equalTo=\&quot;{normalizedName}\&quot;&quot;);
                data = response.Data;
            }

            if (data != null)
            {
                foreach (var kv in data)
                {
                    return await FindByIdAsync(kv.Key, cancellationToken);
                }
            }
            return null;

        }

        /// &lt;summary&gt;
        /// Get a role&#39;s normalized name as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose normalized name should be retrieved.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that contains the name of the role.&lt;/returns&gt;
        public virtual Task&lt;string&gt; GetNormalizedRoleNameAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            return Task.FromResult(role.NormalizedName);
        }

        /// &lt;summary&gt;
        /// Set a role&#39;s normalized name as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose normalized name should be set.&lt;/param&gt;
        /// &lt;param name=&quot;normalizedName&quot;&gt;The normalized name to set&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;The &lt;see cref=&quot;Task&quot;/&gt; that represents the asynchronous operation.&lt;/returns&gt;
        public virtual Task SetNormalizedRoleNameAsync(TRole role, string normalizedName, CancellationToken cancellationToken = default(CancellationToken))
        {
            cancellationToken.ThrowIfCancellationRequested();
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            role.NormalizedName = normalizedName;
            return Task.CompletedTask;
        }

        /// &lt;summary&gt;
        /// Throws if this class has been disposed.
        /// &lt;/summary&gt;
        protected void ThrowIfDisposed()
        {
            if (_disposed)
            {
                throw new ObjectDisposedException(GetType().Name);
            }
        }

        /// &lt;summary&gt;
        /// Dispose the stores
        /// &lt;/summary&gt;
        public void Dispose() =&gt; _disposed = true;

        /// &lt;summary&gt;
        /// Get the claims associated with the specified &lt;paramref name=&quot;role&quot;/&gt; as an asynchronous operation.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role whose claims should be retrieved.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;A &lt;see cref=&quot;Task{TResult}&quot;/&gt; that contains the claims granted to a role.&lt;/returns&gt;
        public async virtual Task&lt;IList&lt;Claim&gt;&gt; GetClaimsAsync(TRole role, CancellationToken cancellationToken = default(CancellationToken))
        {
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }

            try
            {
                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRoleClaim&gt;&gt;(GetFirebasePath(RoleClaimsTableName), cancellationToken, false, $&quot;orderBy=\&quot;RoleId\&quot;&amp;equalTo=\&quot;{role.Id}\&quot;&quot;);
                return response.Data.Values.Select(rc =&gt; new Claim(rc.ClaimType, rc.ClaimValue)).ToList();
            }
            catch (FirebaseException e)
               when (e.FirebaseError != null &amp;&amp; e.FirebaseError.Error.StartsWith(&quot;Index&quot;))
            {
                await SetIndex(RoleClaimsTableName, new RoleClaimIndex(), cancellationToken);

                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRoleClaim&gt;&gt;(GetFirebasePath(RoleClaimsTableName), cancellationToken, false, $&quot;orderBy=\&quot;RoleId\&quot;&amp;equalTo=\&quot;{role.Id}\&quot;&quot;);
                return response.Data.Values.Select(rc =&gt; new Claim(rc.ClaimType, rc.ClaimValue)).ToList();
            }
        }

        /// &lt;summary&gt;
        /// Adds the &lt;paramref name=&quot;claim&quot;/&gt; given to the specified &lt;paramref name=&quot;role&quot;/&gt;.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role to add the claim to.&lt;/param&gt;
        /// &lt;param name=&quot;claim&quot;&gt;The claim to add to the role.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;The &lt;see cref=&quot;Task&quot;/&gt; that represents the asynchronous operation.&lt;/returns&gt;
        public virtual async Task AddClaimAsync(TRole role, Claim claim, CancellationToken cancellationToken = default(CancellationToken))
        {
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            if (claim == null)
            {
                throw new ArgumentNullException(nameof(claim));
            }

            await _client.PostAsync(GetFirebasePath(RoleClaimsTableName), CreateRoleClaim(role, claim), cancellationToken);
        }

        /// &lt;summary&gt;
        /// Removes the &lt;paramref name=&quot;claim&quot;/&gt; given from the specified &lt;paramref name=&quot;role&quot;/&gt;.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The role to remove the claim from.&lt;/param&gt;
        /// &lt;param name=&quot;claim&quot;&gt;The claim to remove from the role.&lt;/param&gt;
        /// &lt;param name=&quot;cancellationToken&quot;&gt;The &lt;see cref=&quot;CancellationToken&quot;/&gt; used to propagate notifications that the operation should be canceled.&lt;/param&gt;
        /// &lt;returns&gt;The &lt;see cref=&quot;Task&quot;/&gt; that represents the asynchronous operation.&lt;/returns&gt;
        public async virtual Task RemoveClaimAsync(TRole role, Claim claim, CancellationToken cancellationToken = default(CancellationToken))
        {
            ThrowIfDisposed();
            if (role == null)
            {
                throw new ArgumentNullException(nameof(role));
            }
            if (claim == null)
            {
                throw new ArgumentNullException(nameof(claim));
            }

            Dictionary&lt;string, TRoleClaim&gt; claims;
            try
            {
                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRoleClaim&gt;&gt;(GetFirebasePath(RoleClaimsTableName), cancellationToken, false, $&quot;orderBy=\&quot;RoleId\&quot;&amp;equalTo=\&quot;{role.Id}\&quot;&quot;);
                claims = response.Data;
            }
            catch (FirebaseException e)
                when (e.FirebaseError != null &amp;&amp; e.FirebaseError.Error.StartsWith(&quot;Index&quot;))
            {
                await SetIndex(RoleClaimsTableName, new RoleClaimIndex(), cancellationToken);

                var response = await _client.GetAsync&lt;Dictionary&lt;string, TRoleClaim&gt;&gt;(GetFirebasePath(RoleClaimsTableName), cancellationToken, false, $&quot;orderBy=\&quot;RoleId\&quot;&amp;equalTo=\&quot;{role.Id}\&quot;&quot;);
                claims = response.Data;
            }

            if (claims != null)
            {
                foreach(var kv in claims)
                {
                    var roleClaim = kv.Value;
                    if (roleClaim.ClaimType == claim.Type &amp;&amp; roleClaim.ClaimValue == claim.Value)
                    {
                        await _client.DeleteAsync(GetFirebasePath(RoleClaimsTableName, kv.Key), cancellationToken);
                    }
                }
            }
        }

        /// &lt;summary&gt;
        /// Creates an entity representing a role claim.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;role&quot;&gt;The associated role.&lt;/param&gt;
        /// &lt;param name=&quot;claim&quot;&gt;The associated claim.&lt;/param&gt;
        /// &lt;returns&gt;The role claim entity.&lt;/returns&gt;
        protected virtual TRoleClaim CreateRoleClaim(TRole role, Claim claim)
            =&gt; new TRoleClaim { RoleId = role.Id, ClaimType = claim.Type, ClaimValue = claim.Value };

        protected virtual string GetFirebasePath(params string[] objectPath)
        {
            return string.Join(&quot;/&quot;, objectPath);
        }

        protected virtual void SetIndex(Dictionary&lt;string, object&gt; rules, string key, object index)
        {
            rules[key] = index;
        }

        private async Task SetIndex(string onTable, object index, CancellationToken cancellationToken)
        {
            var response = await _client.GetAsync&lt;FirebaseRules&gt;(RulePath, cancellationToken);
            var rules = response.Data ?? new FirebaseRules();
            SetIndex(rules.Rules, onTable, index);
            await _client.PutAsync(RulePath, rules, cancellationToken);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[28,93,28,116,1],[28,117,28,118,1],[28,119,28,120,1],[58,13,58,14,1],[59,17,59,164,1],[60,17,60,52,1],[61,17,61,44,1],[62,17,62,18,0],[63,21,63,60,0],[66,17,66,56,1],[67,17,67,24,1],[67,26,67,33,1],[67,34,67,36,1],[67,37,67,56,1],[68,17,68,18,1],[69,21,69,54,1],[70,17,70,18,1],[72,17,72,79,1],[74,17,74,43,1],[74,43,74,52,1],[74,52,74,68,1],[74,17,74,68,1],[75,13,75,14,1],[84,9,84,90,1],[85,9,85,10,1],[86,13,86,81,1],[87,13,87,72,1],[88,9,88,10,1],[93,56,93,60,0],[93,61,93,65,1],[102,9,102,10,1],[103,13,103,62,1],[104,13,104,31,1],[105,13,105,30,1],[106,13,106,14,0],[107,17,107,63,0],[109,13,109,116,1],[110,13,110,37,1],[111,13,111,51,1],[113,13,113,43,1],[114,9,114,10,1],[123,9,123,10,1],[124,13,124,62,1],[125,13,125,31,1],[126,13,126,30,1],[127,13,127,14,0],[128,17,128,63,0],[132,13,132,14,1],[133,17,133,151,1],[134,17,134,55,1],[135,13,135,14,1],[137,17,137,72,0],[138,13,138,14,0],[139,17,139,83,0],[143,13,143,43,1],[144,9,144,10,1],[153,9,153,10,1],[154,13,154,62,1],[155,13,155,31,1],[156,13,156,30,1],[157,13,157,14,0],[158,17,158,63,0],[162,13,162,14,1],[163,17,163,133,1],[164,13,164,14,1],[165,13,165,40,0],[166,13,166,14,0],[167,17,167,71,0],[168,17,168,18,0],[169,21,169,87,0],[171,17,171,23,0],[173,13,173,43,1],[174,9,174,10,1],[183,9,183,10,1],[184,13,184,62,1],[185,13,185,31,1],[186,13,186,30,1],[187,13,187,14,0],[188,17,188,63,0],[190,13,190,45,1],[191,9,191,10,1],[200,9,200,10,1],[201,13,201,62,1],[202,13,202,31,1],[203,13,203,30,1],[204,13,204,14,0],[205,17,205,63,0],[207,13,207,47,1],[208,9,208,10,1],[218,9,218,10,1],[219,13,219,62,1],[220,13,220,31,1],[221,13,221,30,1],[222,13,222,14,0],[223,17,223,63,0],[225,13,225,34,1],[226,13,226,39,1],[227,9,227,10,1],[236,9,236,10,1],[237,13,237,62,1],[238,13,238,31,1],[239,13,239,120,1],[240,13,240,38,1],[241,13,241,30,1],[242,13,242,14,1],[243,17,243,30,1],[244,17,244,55,1],[245,13,245,14,1],[247,13,247,25,1],[248,9,248,10,1],[257,9,257,10,1],[258,13,258,62,1],[259,13,259,31,1],[263,13,263,14,1],[264,17,264,201,1],[265,17,265,38,1],[266,13,266,14,1],[268,16,268,91,1],[269,13,269,14,1],[270,17,270,84,1],[272,17,272,201,1],[273,17,273,38,1],[274,13,274,14,1],[276,13,276,30,1],[277,13,277,14,1],[278,17,278,24,1],[278,26,278,32,1],[278,33,278,35,1],[278,36,278,40,1],[279,17,279,18,1],[280,21,280,75,1],[282,13,282,14,1],[283,13,283,25,1],[285,9,285,10,1],[294,9,294,10,0],[295,13,295,62,0],[296,13,296,31,0],[297,13,297,30,0],[298,13,298,14,0],[299,17,299,63,0],[301,13,301,57,0],[302,9,302,10,0],[312,9,312,10,1],[313,13,313,62,1],[314,13,314,31,1],[315,13,315,30,1],[316,13,316,14,0],[317,17,317,63,0],[319,13,319,50,1],[320,13,320,39,1],[321,9,321,10,1],[327,9,327,10,1],[328,13,328,27,1],[329,13,329,14,0],[330,17,330,67,0],[332,9,332,10,1],[337,34,337,50,0],[346,9,346,10,1],[347,13,347,31,1],[348,13,348,30,1],[349,13,349,14,0],[350,17,350,63,0],[354,13,354,14,1],[355,17,355,196,1],[356,17,356,58,1],[356,58,356,96,1],[356,96,356,107,1],[356,17,356,107,1],[359,16,359,91,1],[360,13,360,14,1],[361,17,361,94,1],[363,17,363,196,1],[364,17,364,58,1],[364,58,364,96,1],[364,96,364,107,1],[364,17,364,107,1],[366,9,366,10,1],[376,9,376,10,1],[377,13,377,31,1],[378,13,378,30,1],[379,13,379,14,0],[380,17,380,63,0],[382,13,382,31,1],[383,13,383,14,0],[384,17,384,64,0],[387,13,387,124,1],[388,9,388,10,1],[398,9,398,10,1],[399,13,399,31,1],[400,13,400,30,1],[401,13,401,14,0],[402,17,402,63,0],[404,13,404,31,1],[405,13,405,14,0],[406,17,406,64,0],[411,13,411,14,1],[412,17,412,196,1],[413,17,413,40,1],[414,13,414,14,1],[416,17,416,92,0],[417,13,417,14,0],[418,17,418,94,0],[420,17,420,196,0],[421,17,421,40,0],[422,13,422,14,0],[424,13,424,32,1],[425,13,425,14,1],[426,17,426,24,1],[426,25,426,31,1],[426,32,426,34,1],[426,35,426,41,1],[427,17,427,18,1],[428,21,428,46,1],[429,21,429,98,1],[430,21,430,22,1],[431,25,431,116,1],[432,21,432,22,1],[433,17,433,18,1],[434,13,434,14,1],[435,9,435,10,1],[444,16,444,101,1],[447,9,447,10,1],[448,13,448,49,1],[449,9,449,10,1],[452,9,452,10,1],[453,13,453,32,1],[454,9,454,10,1],[457,9,457,10,1],[458,13,458,95,1],[459,13,459,62,1],[460,13,460,51,1],[461,13,461,72,1],[462,9,462,10,1]]);
    </script>
  </body>
</html>